![Python Code Quality Check](https://github.com/Al-QaTari/Treasury_Calculator/actions/workflows/quality_check.yml/badge.svg)

![Scheduled Scrape](https://github.com/Al-QaTari/Treasury_Calculator/actions/workflows/scheduled_scrape.yml/badge.svg)
#  🏦 حاسبة أذون الخزانة المصرية


تطبيق ويب تفاعلي ومفتوح المصدر، تم بناؤه باستخدام Streamlit لمساعدة المستثمرين في السوق المصري على حساب وتحليل عوائد أذون الخزانة. يقوم التطبيق بجلب أحدث بيانات العطاءات بشكل آلي من موقع البنك المركزي المصري ويوفر أدوات حسابية دقيقة لاتخاذ قرارات استثمارية مدروسة.

---
## ✨ الميزات الرئيسية

- **جلب آلي للبيانات**: يقوم روبوت (Scraper) بسحب أحدث بيانات عطاءات أذون الخزانة مباشرة من موقع البنك المركزي المصري لضمان دقة الأرقام.
- **واجهة مستخدم تفاعلية**: تصميم واضح وسهل الاستخدام يعرض أحدث العوائد ويقدم حاسبات متقدمة.
- **حاسبة العائد الأساسية**: لحساب صافي الربح المتوقع ونسبة العائد الفعلية عند شراء إذن والاحتفاظ به حتى تاريخ الاستحقاق.
- **حاسبة البيع الثانوي**: أداة قوية لتحليل قرار البيع المبكر في السوق الثانوي، وحساب الربح أو الخسارة المحتملة بناءً على العائد السائد في السوق.
- **قاعدة بيانات تاريخية**: حفظ البيانات المجلوبة في قاعدة بيانات SQLite لتتبع التغيرات في العوائد مع مرور الوقت.
- **شرح مفصل**: قسم للمساعدة يشرح المفاهيم المالية الأساسية مثل الفرق بين العائد والفائدة، وكيفية عمل الحاسبات.

---
## 🚀 كيفية التشغيل

اتبع هذه الخطوات لتشغيل المشروع على جهازك المحلي.

### 1. المتطلبات الأساسية
- Python 3.8 أو أحدث.
- متصفح Google Chrome أو Brave مثبت على جهازك.

### 2. تثبيت المكتبات
أولاً، قم بنسخ المستودع إلى جهازك، ثم ادخل إلى المجلد وقم بتثبيت المكتبات المطلوبة.

```bash
git clone [https://github.com/Al-QaTari/Treasury_Calculator.git](https://github.com/Al-QaTari/Treasury_Calculator.git)
cd Treasury_Calculator
pip install -r requirements.txt
```

### 3. تحديث البيانات (خطوة هامة)
قبل تشغيل التطبيق لأول مرة، يجب عليك تشغيل سكربت تحديث البيانات لجلب أحدث العوائد من البنك المركزي وإنشاء قاعدة البيانات المحلية.

```bash
python update_data.py
```
*هذه العملية قد تستغرق دقيقة أو اثنتين في المرة الأولى.*

### 4. تشغيل التطبيق
بعد اكتمال تحديث البيانات، يمكنك الآن تشغيل تطبيق Streamlit.

```bash
streamlit run app.py
```
سيفتح التطبيق تلقائيًا في متصفحك.

---
## 🛠️ هيكل المشروع
```
Treasury_Calculator/
│
├── css/
│   └── style.css           # ملف التنسيقات (CSS)
├── app.py                  # التطبيق الرئيسي وواجهة المستخدم (Streamlit)
├── cbe_scraper.py          # منطق جلب البيانات من موقع البنك المركزي
├── calculations.py         # الدوال الخاصة بالعمليات الحسابية المالية
├── db_manager.py           # كلاس لإدارة قاعدة البيانات (SQLite)
├── constants.py            # جميع الثوابت والمتغيرات المركزية
├── utils.py                # دوال مساعدة (مثل معالجة النصوص)
├── update_data.py          # سكربت لتشغيل عملية تحديث البيانات
├── requirements.txt        # قائمة المكتبات المطلوبة للمشروع
├── .gitignore              # لتجاهل الملفات غير المرغوب فيها (مثل قاعدة البيانات)
└── README.md               # ملف التوثيق هذا
```

---
### إخلاء مسؤولية
هذا التطبيق هو أداة إرشادية فقط، والأرقام الناتجة هي تقديرات بناءً على البيانات المتاحة. للحصول على أرقام نهائية ودقيقة وقرارات استثمارية، يرجى الرجوع دائمًا إلى البنك أو المؤسسة المالية التي تتعامل معها.
